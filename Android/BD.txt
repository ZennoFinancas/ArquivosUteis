
CREATE TABLE usuarios (
  id_usuario varchar(2),
  nome VARCHAR(45) NOT NULL,
  username VARCHAR(12) NOT NULL,
  email VARCHAR(60) NOT NULL UNIQUE,
  numero VARCHAR(14) NOT NULL,
  senha_hash VARCHAR(60) NOT NULL,
  criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE adm (
  id_adm INT PRIMARY KEY AUTO_INCREMENT,
  nome VARCHAR(255) NOT NULL,
  username VARCHAR(255) NOT NULL UNIQUE,
  email VARCHAR(255) NOT NULL UNIQUE,
  senha_hash VARCHAR(255) NOT NULL,
  nivel_acesso VARCHAR(255),
  criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE categorias (
  id_categoria INT PRIMARY KEY AUTO_INCREMENT,
  id_usuario INT NOT NULL,
  nome VARCHAR(255) NOT NULL,
  tipo ENUM('receita', 'gasto') NOT NULL,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);

CREATE TABLE objetivos (
  id_objetivo INT PRIMARY KEY AUTO_INCREMENT,
  id_usuario INT NOT NULL,
  nome VARCHAR(255) NOT NULL,
  valor_desejado DECIMAL(10, 2) NOT NULL,
  data_objetivo DATE NOT NULL,
  criado_em TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario)
);

CREATE TABLE gastos (
  id_gasto INT PRIMARY KEY AUTO_INCREMENT,
  id_usuario INT NOT NULL,
  id_categoria INT,
  valor DECIMAL(10, 2) NOT NULL,
  descricao VARCHAR(255),
  data_gasto DATE NOT NULL,
  status_pagamento VARCHAR(255),
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario),
  FOREIGN KEY (id_categoria) REFERENCES categorias(id_categoria)
);

CREATE TABLE receitas (
  id_receita INT PRIMARY KEY AUTO_INCREMENT,
  id_usuario INT NOT NULL,
  id_categoria INT NOT NULL,
  valor DECIMAL(10, 2) NOT NULL,
  descricao VARCHAR(255),
  data_receita DATE NOT NULL,
  FOREIGN KEY (id_usuario) REFERENCES usuarios(id_usuario),
  FOREIGN KEY (id_categoria) REFERENCES categorias(id_categoria)
);

CREATE TABLE aportes_objetivo (
  id_aporte INT PRIMARY KEY AUTO_INCREMENT,
  id_objetivo INT NOT NULL,
  valor DECIMAL(10, 2) NOT NULL,
  descricao_aporte VARCHAR(255) NOT NULL,
  data_aporte DATE NOT NULL,
  FOREIGN KEY (id_objetivo) REFERENCES objetivos(id_objetivo)
);